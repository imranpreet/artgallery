{"ast":null,"code":"// Minimal virtual scroll implementation.\n// It hides the native scrollbar and simulates scrolling by translating\n// the content container. This preserves wheel, touch, and keyboard input.\nexport default function initVirtualScroll(){let containerSelector=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'main';const container=document.querySelector(containerSelector);if(!container)return null;// Wrap content in a scroller element that we will translate\nconst scroller=document.createElement('div');scroller.className='virtual-scroller';// move children into scroller\nwhile(container.firstChild){scroller.appendChild(container.firstChild);}container.appendChild(scroller);// Hide native scrollbar\nconst previousBodyOverflow=document.body.style.overflow;document.body.style.overflow='hidden';let currentY=0;let maxScroll=Math.max(0,scroller.scrollHeight-window.innerHeight);const setTransform=()=>{scroller.style.transform=\"translateY(\".concat(-currentY,\"px)\");};const clamp=v=>Math.max(0,Math.min(v,maxScroll));const onWheel=e=>{e.preventDefault();currentY=clamp(currentY+e.deltaY);setTransform();};let touchStartY=0;let isTouching=false;const onTouchStart=e=>{isTouching=true;touchStartY=e.touches[0].clientY;};const onTouchMove=e=>{if(!isTouching)return;const delta=touchStartY-e.touches[0].clientY;touchStartY=e.touches[0].clientY;currentY=clamp(currentY+delta);setTransform();};const onTouchEnd=()=>{isTouching=false;};const onKey=e=>{const step=80;if(e.key==='ArrowDown'){currentY=clamp(currentY+step);setTransform();}else if(e.key==='ArrowUp'){currentY=clamp(currentY-step);setTransform();}else if(e.key==='PageDown'){currentY=clamp(currentY+window.innerHeight*0.9);setTransform();}else if(e.key==='PageUp'){currentY=clamp(currentY-window.innerHeight*0.9);setTransform();}else if(e.key==='Home'){currentY=0;setTransform();}else if(e.key==='End'){currentY=maxScroll;setTransform();}};const onResize=()=>{maxScroll=Math.max(0,scroller.scrollHeight-window.innerHeight);currentY=clamp(currentY);setTransform();};// initial styles\nscroller.style.willChange='transform';scroller.style.transition='transform 0.12s linear';// attach\ncontainer.addEventListener('wheel',onWheel,{passive:false});container.addEventListener('touchstart',onTouchStart,{passive:true});container.addEventListener('touchmove',onTouchMove,{passive:false});container.addEventListener('touchend',onTouchEnd,{passive:true});window.addEventListener('keydown',onKey);window.addEventListener('resize',onResize);// set initial transform\nonResize();// cleanup\nreturn()=>{container.removeEventListener('wheel',onWheel);container.removeEventListener('touchstart',onTouchStart);container.removeEventListener('touchmove',onTouchMove);container.removeEventListener('touchend',onTouchEnd);window.removeEventListener('keydown',onKey);window.removeEventListener('resize',onResize);document.body.style.overflow=previousBodyOverflow;// move children back out of scroller\nwhile(scroller.firstChild)container.appendChild(scroller.firstChild);scroller.remove();};}","map":{"version":3,"names":["initVirtualScroll","containerSelector","arguments","length","undefined","container","document","querySelector","scroller","createElement","className","firstChild","appendChild","previousBodyOverflow","body","style","overflow","currentY","maxScroll","Math","max","scrollHeight","window","innerHeight","setTransform","transform","concat","clamp","v","min","onWheel","e","preventDefault","deltaY","touchStartY","isTouching","onTouchStart","touches","clientY","onTouchMove","delta","onTouchEnd","onKey","step","key","onResize","willChange","transition","addEventListener","passive","removeEventListener","remove"],"sources":["/home/sama/Desktop/zigga copy/src/virtualScroll.js"],"sourcesContent":["// Minimal virtual scroll implementation.\n// It hides the native scrollbar and simulates scrolling by translating\n// the content container. This preserves wheel, touch, and keyboard input.\n\nexport default function initVirtualScroll(containerSelector = 'main') {\n  const container = document.querySelector(containerSelector);\n  if (!container) return null;\n\n  // Wrap content in a scroller element that we will translate\n  const scroller = document.createElement('div');\n  scroller.className = 'virtual-scroller';\n  // move children into scroller\n  while (container.firstChild) {\n    scroller.appendChild(container.firstChild);\n  }\n  container.appendChild(scroller);\n\n  // Hide native scrollbar\n  const previousBodyOverflow = document.body.style.overflow;\n  document.body.style.overflow = 'hidden';\n\n  let currentY = 0;\n  let maxScroll = Math.max(0, scroller.scrollHeight - window.innerHeight);\n\n  const setTransform = () => {\n    scroller.style.transform = `translateY(${-currentY}px)`;\n  };\n\n  const clamp = (v) => Math.max(0, Math.min(v, maxScroll));\n\n  const onWheel = (e) => {\n    e.preventDefault();\n    currentY = clamp(currentY + e.deltaY);\n    setTransform();\n  };\n\n  let touchStartY = 0;\n  let isTouching = false;\n  const onTouchStart = (e) => {\n    isTouching = true;\n    touchStartY = e.touches[0].clientY;\n  };\n  const onTouchMove = (e) => {\n    if (!isTouching) return;\n    const delta = touchStartY - e.touches[0].clientY;\n    touchStartY = e.touches[0].clientY;\n    currentY = clamp(currentY + delta);\n    setTransform();\n  };\n  const onTouchEnd = () => { isTouching = false; };\n\n  const onKey = (e) => {\n    const step = 80;\n    if (e.key === 'ArrowDown') { currentY = clamp(currentY + step); setTransform(); }\n    else if (e.key === 'ArrowUp') { currentY = clamp(currentY - step); setTransform(); }\n    else if (e.key === 'PageDown') { currentY = clamp(currentY + window.innerHeight * 0.9); setTransform(); }\n    else if (e.key === 'PageUp') { currentY = clamp(currentY - window.innerHeight * 0.9); setTransform(); }\n    else if (e.key === 'Home') { currentY = 0; setTransform(); }\n    else if (e.key === 'End') { currentY = maxScroll; setTransform(); }\n  };\n\n  const onResize = () => {\n    maxScroll = Math.max(0, scroller.scrollHeight - window.innerHeight);\n    currentY = clamp(currentY);\n    setTransform();\n  };\n\n  // initial styles\n  scroller.style.willChange = 'transform';\n  scroller.style.transition = 'transform 0.12s linear';\n\n  // attach\n  container.addEventListener('wheel', onWheel, { passive: false });\n  container.addEventListener('touchstart', onTouchStart, { passive: true });\n  container.addEventListener('touchmove', onTouchMove, { passive: false });\n  container.addEventListener('touchend', onTouchEnd, { passive: true });\n  window.addEventListener('keydown', onKey);\n  window.addEventListener('resize', onResize);\n\n  // set initial transform\n  onResize();\n\n  // cleanup\n  return () => {\n    container.removeEventListener('wheel', onWheel);\n    container.removeEventListener('touchstart', onTouchStart);\n    container.removeEventListener('touchmove', onTouchMove);\n    container.removeEventListener('touchend', onTouchEnd);\n    window.removeEventListener('keydown', onKey);\n    window.removeEventListener('resize', onResize);\n    document.body.style.overflow = previousBodyOverflow;\n    // move children back out of scroller\n    while (scroller.firstChild) container.appendChild(scroller.firstChild);\n    scroller.remove();\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}